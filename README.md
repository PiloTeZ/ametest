<h1>Краткое описание примененных решений. Основные изменения</h1>

<h2>Список событий</h2>
1. Отображение событий в списке
Вместо switch в представлении _item.php, сделал хэлпер HistoryItemHelper и виджет под каждый тип события.
Общее представление разбил на более мелкие компоненты, для лучшей читаемости и возможности повторного использования.

**Сценарий:**
1. Хэлпер определяет виджет соответствующий типу события
2. Виджет определяет параметры представления и представление
    - Обычно виджет рендерит общее представление, с параметрами в зависимости от события
    - Разбил общее представление на компоненты, что бы представление легче читалось и можно было легко собрать кастомный вариант.
    - Виджет позволяет передать любой набор параметров и сделать любое представление для события

@see
- Пример виджета для события типа "Задача"
`widgets/HistoryListItem/HistoryItemTask.php`
- Общее представление 
`widgets/HistoryListItem/views/item_common.php`
- Пример кастомного представления 
`widgets/HistoryListItem/views/item_status_change.php`
- Хэлпер определяющий виджет соответствующий событию
`widgets/HistoryListItem/helpers/HistoryItemHelper.php`

<h2>Экспорт</h2>
В экспорте не увидел причин для рефакторинга, так как все события отображаются одинаково, 
но так как обсудить не с кем и в задаче написать сделать, сделал возможность кастомизировать содержимое ячеек в зависимости от типа события.
Так как данных может быть очень много, для лучшей производительности вместо инстансов объектов, используются статические методы.

**Сценарий**
1. Для генерации контента ячейки создал компонент HistoryExportColumns
2. HistoryExportColumns подбирает класс соответствующий типу события
    - Если кастомный класс существует, то данные генерируется ним. Например: `\app\components\historyExportColumns\HistoryExportColumnsTask`
    - Если класса нет, используется генератор по умолчанию: `\app\components\historyExportColumns\HistoryExportColumnsDefault`

@see 
- Пример кастомного генератора данных события для экспорта `\app\components\historyExportColumns\HistoryExportColumnsTask`
- Генератор по умолчанию `\app\components\historyExportColumns\HistoryExportColumnsDefault`
- Представление экспорта `views/site/export.php`

<h2>Избавился от app\models\traits\ObjectNameTrait</h2>
В модели history использовался трейт ObjectNameTrait для упрощения подключения типичных релейшенов.
Но тщательно изучив его, стало ясно, что создает массу проблем и сильно усложняет понимание кода, 
поэтому принял решение удалить этот класс.
